<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Liyu</title>
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <div class="app">
    <header>Liyu</header>

    <!-- ğŸ”¥ id ì¶”ê°€ -->
    <div class="chat-area" id="chat">
      <div class="message riwoo">
        <img class="profile" src="./profile.jpg">
        <div class="bubble">ëŸ¬ë¶€ë‹¨~ ë­í•´ìš©?</div>
      </div>
    </div>

    <!-- ğŸ”¥ id + onclick ì¶”ê°€ -->
    <div class="choices" id="choices">
      <button onclick="selectChoice('ë‚˜ëŠ” ë¦½ìš° ìƒê°~')">ë‚˜ëŠ” ë¦½ìš° ìƒê°~</button>
      <button onclick="selectChoice('ë¦½ìš° ìƒê°! ë¦½ìš°ëŠ” ë­í•´?')">ë¦½ìš° ìƒê°! ë¦½ìš°ëŠ” ë­í•´?</button>
      <button onclick="selectChoice('ë¦½ìš°ë‘ ì—°ë½ ì¤‘!')">ë¦½ìš°ë‘ ì—°ë½ ì¤‘!</button>
    </div>

    <div class="input">ë©”ì‹œì§€ ë³´ë‚´ê¸°...</div>
  </div>

  <!-- âœ… JSëŠ” body ë§¨ ì•„ë˜ -->
  <script>
  const chat = document.getElementById("chat");
  const choices = document.getElementById("choices");

  let step = 0;

  const scenario = [
    {
      choices: [
        "ë‚˜ëŠ” ë¦½ìš° ìƒê°~",
        "ë¦½ìš°ëŠ” ë­í•´?",
        "ì§€ê¸ˆ ì—°ë½ ì¤‘!"
      ],
      replies: {
        "ë‚˜ëŠ” ë¦½ìš° ìƒê°~": "ì˜¤ ã…ã… ê°ë™ì¸ë°ìš”? ëŸ¬ë¶€ë‹¨! ë‚˜ ë³´ê³  ì‹¶ì–´ìš”?",
        "ë¦½ìš°ëŠ” ë­í•´?": "ë‚˜ëŠ” ëŸ¬ë¶€ë‹¨ ìƒê°í•˜ê³  ìˆì£ ~ ëŸ¬ë¶€ë‹¨ ë‚˜ ë§ì´ ë³´ê³  ì‹¶ì–´ìš”?",
        "ì§€ê¸ˆ ì—°ë½ ì¤‘!": "ë‚˜ë„ ëŸ¬ë¶€ë‹¨ì´ë‘ ì—°ë½ ì¤‘ì¸ë°! ëŸ¬ë¶€ë‹¨ ë‚˜ ë³´ê³ ì‹¶ì£ ? ã…ã…"
      }
    },
    {
      choices: [
        "ë‹¹ì—°íˆ ë³´ê³  ì‹¶ì§€!",
        "ì›… ë„ˆë¬´ë„ˆë¬´ ã…œã…œ",
        "ë§¨ë‚  ìƒê°ë‚˜"
      ],
      replies: {
        "ë‹¹ì—°íˆ ë³´ê³  ì‹¶ì§€!": "ì €ë„ìš”â€¦ ëŸ¬ë¶€ë‹¨ ë¹¨ë¦¬ ë§Œë‚˜ê³ ì‹¶ì–´ìš”",
        "ì›… ë„ˆë¬´ë„ˆë¬´ ã…œã…œ": "ì €ë„ì—ìš” ã…‹ã…‹ ë‚˜ë„ ëŸ¬ë¶€ë‹¨ ë§Œë‚˜ê³  ì‹¶ë‹¤ì•„..",
        "ë§¨ë‚  ìƒê°ë‚˜": "í— ì €ëˆë° í†µí–ˆë„¤ìš” ã…‹ã…‹ ë¹¨ë¦¬ ëŸ¬ë¶€ë‹¨ ë§Œë‚˜ê³  ì‹¶ì–´ìš”.."
      }
    },
    {
      choices: [
        "ìš°ë¦¬ ì–¸ì œ ë§Œë‚ ê¹Œ?",
        "ë¦½ìš°ê°€ ë¨¼ì € ì°¾ì•„ì™€ì¤˜ì•¼ ìš°ë¦¬ë„ ë§Œë‚  ìˆ˜ ìˆëŠ”ë° ã…œã…œ",
        "ìš°ë¦¬ ê¿ˆì—ì„œ ë§Œë‚ ê¹Œ? ã…‹ã…‹"
      ],
      replies: {
        "ìš°ë¦¬ ì–¸ì œ ë§Œë‚ ê¹Œ?": "ì €ë„ ê·¸ ìƒê° ë§¨ë‚  í•´ìš”â€¦",
        "ë¦½ìš°ê°€ ë¨¼ì € ì°¾ì•„ì™€ì¤˜ì•¼ ìš°ë¦¬ë„ ë§Œë‚  ìˆ˜ ìˆëŠ”ë° ã…œã…œ": "í—‰.. ì œê°€ ìµœëŒ€í•œ ë¹¨ë¦¬ ì°¾ì•„ì˜¬ê²Œìš”!",
        "ìš°ë¦¬ ê¿ˆì—ì„œ ë§Œë‚ ê¹Œ? ã…‹ã…‹": "ê·¸ëŸ¼ ì˜¤ëŠ˜ ê¿ˆì— ê¼­ ê°ˆê²Œìš” ì•½ì†!"
      }
    }
  ];

  function renderChoices() {
    choices.innerHTML = "";
    scenario[step].choices.forEach(text => {
      const btn = document.createElement("button");
      btn.innerText = text;
      btn.onclick = () => selectChoice(text);
      choices.appendChild(btn);
    });
  }

function selectChoice(text) {
  choices.innerHTML = "";

  // ë‚´ê°€ ë³´ë‚¸ ë§
  const myMsg = document.createElement("div");
  myMsg.className = "message me";
  myMsg.innerText = text;
  chat.appendChild(myMsg);
  chat.scrollTop = chat.scrollHeight;

  // ë¦½ìš° ë‹µì¥
  setTimeout(() => {    
    const reply = document.createElement("div");
    reply.className = "message riwoo";
    reply.innerText = scenario[step].replies[text];
    chat.appendChild(reply);
    chat.scrollTop = chat.scrollHeight;

    step++;

    // ğŸ”š ì—”ë”©
    if (step < scenario.length) {
      setTimeout(() => {
        renderChoices();
      }, 500);
    }
  }, 700);
}

  function showEnding() {
    const endMsg = document.createElement("div");
    endMsg.className = "message riwoo";
    endMsg.innerHTML = `
      <img class="profile" src="./profile.jpg">
      <div class="bubble">
        ë‚˜ë„ ì–¼ë¥¸ ëŸ¬ë¶€ë‹¨ ë§Œë‚˜ê³  ì‹¶ì–´ìš”ã…œ<br>
        ìš°ë¦¬ ê³§ ë‹¤ì‹œ ë§Œë‚˜ìš”!<br>
        ì‚¬ë‘í•´ìš” â™¥
      </div>
    `;
    chat.appendChild(endMsg);
    chat.scrollTop = chat.scrollHeight;
  }

  // ì²˜ìŒ ì„ íƒì§€ í‘œì‹œ
  renderChoices();
</script>

</body>
</html>
